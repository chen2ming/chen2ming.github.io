---
title: 浏览器渲染原理
date: 2023-3-16
---

# 渲染时间点

![Image text](/imgs/渲染时间.png)

# 渲染流⽔线

![Image text](/imgs/渲染过程.png)

## 1. 解析 HTML - Parse HTML

  ![Image text](/imgs/解析.png)
  ![Image text](/imgs/解析2.png)
  ![Image text](/imgs/解析3.png)

  为了提⾼解析效率，浏览器会启动⼀个预解析器率先下载和解析 CSS
  ![Image text](/imgs/解析4.png)

  渲染主线程遇到 JS 时必须暂停⼀切⾏为，等待下载执⾏完后才能继续预解析线程可以分担⼀点下载 JS 的任务
  ![Image text](/imgs/解析5.png)

## 2. 样式计算 - Recalculate Style
   ![Image text](/imgs/计算样式.png)

## 3. 布局 - Layout
  ![Image text](/imgs/布局.png)
  DOM 树 和 Layout 树不⼀定是⼀⼀对应的
  ![Image text](/imgs/布局2.png)
  ![Image text](/imgs/布局3.png)
  ![Image text](/imgs/布局4.png)

## 4. 分层 - Layer
  页面变动的时候不会整体重绘
 ![Image text](/imgs/分层.png)

## 5. 绘制 - Paint

![Image text](/imgs/绘制.png)
渲染主线程的⼯作到此为⽌，剩余步骤交给其他线程完成
![Image text](/imgs/绘制2.png)

## 6. 分块 - Tiling

![Image text](/imgs/分块.png)
![Image text](/imgs/分块2.png)

## 7. 光栅化 - Raster
![Image text](/imgs/光栅化.png)
![Image text](/imgs/光栅化2.png)

## 8. 画 - Draw
![Image text](/imgs/画.png)

# 完整过程
![Image text](/imgs/完整过程.png)

# 常⻅⾯试题

## 什么是 reflow ？
![Image text](/imgs/reflow.png)

## 什么是 什么是 repaint?

![Image text](/imgs/repaint.png)

## 什么是 什么是 为什么 transform 效率⾼？

![Image text](/imgs/transform.png)
![Image text](/imgs/transform2.png)
